<!DOCTYPE html>
<html>
    <head>
        <title>{{ page.title }}</title>
        <link rel="stylesheet" href="{{ '/assets/css/style.css?v=' | append: site.github.build_revision | relative_url }}">
    </head>
    <body>

        <header id="main_header">
            <div class="container h-100">
                <div id="main_header_upper" class="row justify-content-center align-items-center">
                    <h1>Vértes Könyvtár</h1>
                </div>
                <div id="main_header_lower" class="row align-items-center justify-content-center">
                    <ul id="header_nav" class="nav justify-content-center">
                      <li class="nav-item">
                        <a class="nav-link active" href="/">Kezdőlap</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="#">Katalógus</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="/archive.html">Archívum</a>
                      </li>
                    </ul>
                </div>
            </div>
        </header>
        <div id="main" class="container">{{ content }}</div>
        <div id="footer" class="container">
            <div class="row">
                <div class="col-8">
                    <header class="footer_header"><h6>Nyitvatartás</h6></header>
                    <div class="footer_content">Kedd-Szombat: 8:00-17:00</div>
                </div>
                <div class="col-4">
                    <header class="footer_header"><h6>Elérhetőségek</h6></header>
                    <div class="footer_content"><b>Cím:</b> 4283 Létavértes Kassai u. 8. <br><b>Tel:</b> +36 52 250 455<br><b>E-mail: </b>verteskt@gmail.com<br><b>Facebook:</b> <a href="">verteskt</a></div>
                </div>
            </div>
        </div>
    </body>
    <script>
        var randomNum = Math.floor(Math.random() * 7) + 1
        var header = document.querySelector('#main_header')
        var headerUpper = document.querySelector('#main_header_upper')
        var headerLower = document.querySelector('#main_header_lower')
        var main = document.querySelector('#main')
        header.style.backgroundImage = "url({{site.baseurl}}/headers/" + randomNum + ".jpg)"

        window.addEventListener("scroll", function (e) {
            var w = Math.max(document.documentElement.clientWidth, window.innerWidth || 1000);
            
            if (w >= 1000) {
                var y = window.pageYOffset || document.documentElement.scrollTop,
                    jumpOn = 201;
                console.log(y);
                if (y > jumpOn) {
                    header.classList.add("smaller");
                    headerUpper.classList.add("smaller");
                    headerLower.classList.add("smaller");
                    main.classList.add("smaller");

                    if (!window.hasScrolled) {
                        window.hasScrolled = true;
                        console.log(y);
                        if (window.location.hash.length !== 0) {
                            window.scrollTo(window.scrollX, window.scrollY - 100);    
                        }
                    }
                } else {
                    if (header.classList.contains("smaller")) {
                        header.classList.remove("smaller");
                    }
                    if (headerUpper.classList.contains("smaller")) {
                        headerUpper.classList.remove("smaller");
                    }
                    if (headerLower.classList.contains("smaller")) {
                        headerLower.classList.remove("smaller");
                    }
                    if (main.classList.contains("smaller")) {
                        main.classList.remove("smaller");
                    }
                }
            }
        });
    </script>
</html>
